<template>
  <div class="checkCode">
    <div class="tiger" ref="tiger"></div>
    <div class="from">
      <h2>{{ title }}</h2>
      <el-button type="primary" :loading="loading" @click="onRegister('form')">ç«‹å³æ³¨å†Œ</el-button>
      <el-button @click="onCallback">å–æ¶ˆ</el-button>
    </div>
    <div class="rabbit" ref="rabbit"></div>
  </div>
</template>

<script>
import lottie from 'lottie-web'
import Tiger from '@/assets/lottie/tigerhi.json'
import Rabbit from '@/assets/lottie/presto-rabbit.json'

export default {
  name: 'register',
  data() {
    return {
      loading: false, // åŠ è½½åŠ¨ç”»
      title: 'ğŸ“®é‚®ç®±éªŒè¯æˆåŠŸï¼Œæ­£åœ¨è‡ªåŠ¨ç™»å½•',
    }
  },
  methods: {
    onCallback() {
      this.$router.push('/login')
    },
    initLottie() {
      lottie.loadAnimation({
        container: this.$refs.tiger, // åŒ…å«åŠ¨ç”»çš„domå…ƒç´ 
        renderer: 'svg', // æ¸²æŸ“å‡ºæ¥çš„æ˜¯ä»€ä¹ˆæ ¼å¼
        loop: true, // å¾ªç¯æ’­æ”¾
        autoplay: true, // è‡ªåŠ¨æ’­æ”¾
        animationData: Tiger, // åŠ¨ç”»jsonçš„è·¯å¾„
      })
      lottie.loadAnimation({
        container: this.$refs.rabbit, // åŒ…å«åŠ¨ç”»çš„domå…ƒç´ 
        renderer: 'svg', // æ¸²æŸ“å‡ºæ¥çš„æ˜¯ä»€ä¹ˆæ ¼å¼
        loop: true, // å¾ªç¯æ’­æ”¾
        autoplay: true, // è‡ªåŠ¨æ’­æ”¾
        animationData: Rabbit, // åŠ¨ç”»jsonçš„è·¯å¾„
      })
      lottie.play()
    },
  },
  mounted() {
    this.initLottie()
  },
}
</script>

<style lang="scss" scoped>
.register {
  .tiger {
    width: 300px;
    height: 300px;
    position: fixed;
    top: 13%;
    left: 50%;
    transform: translate(-50%, -50%);
    @include respond-to(lg) {
    }
  }
  .rabbit {
    height: 500px;
    width: 500px;
    position: fixed;
    bottom: 0;
    @include respond-to(lg) {
      display: none;
    }
  }
  .from {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 445px;
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
    padding: 1rem;
    margin: 1rem;
    background-color: #ffffff;
    z-index: 1;
    @include respond-to(lg) {
      width: 70%;
      height: 500px;
      left: 47%;
    }
  }
}
</style>
